{
    "table_name": "delivery",
    "schema": "main",
    "full_table_name": "main.delivery",
    "view_name": "main_vw_delivery",
    "columns": [
        {
            "name": "id_delivery",
            "type": "INTEGER",
            "label": "Код",
            "primary_key": true,
            "foreign_key": null,
            "visible": false,
            "mappings": {
                "transformation": "skip"
            },
            "input_type": "number"
        },
        {
            "name": "id_marketplace",
            "type": "SMALLINT",
            "label": "Площадка",
            "primary_key": false,
            "foreign_key": {
                "target_table": "main_marketpalces",
                "target_column": "id_marketplace",
                "key_field":"id_marketplace",
                "lookup_field":"mp_name",
                "pseudonym": "pseudonyms"
            },
            "visible": true,
            "mappings": {
                "import_name" : "Площадка",
                "transformation": "db_get_key_from_fields"
                
            },
            "input_type": "lookup"
        },
        {
            "name": "id_partner",
            "type": "INTEGER",
            "label": "Партнер",
            "primary_key": false,
            "foreign_key": {
                "target_table": "main_partners",
                "target_column": "id_partner",
                "key_field":"id_partner",
                "lookup_field":"partner_name",
                "pseudonym": "pseudonyms"
            },
            "visible": true,
            "mappings": {
                "import_name" : "Кабинет",
                "transformation": "db_get_key_from_fields"
            },
            "input_type": "lookup"
        },
        {
            "name": "assembly_task",
            "type": "VARCHAR",
            "label": "Задача сборки",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Сборочное задание",
                "transformation": "direct",
                "unique_key" : true
            },
            "input_type": "text"
        },
        {
            "name": "id_product",
            "type": "INTEGER",
            "primary_key": false,
            "label": "Код товара",
            "foreign_key": {
                "target_table": "main_products",
                "target_column": "id_product",
                "key_field":"id_product",
                "lookup_field":"sku"
            },
            "visible": true,
            "mappings": {
                "import_name" : "Артикул",
                "transformation": "db_get_key_from_fields"
            },
            "input_type": "lookup"
        },
        {
            "name": "delivery_date_planned",
            "type": "DATE",
            "label": "Планируемая дата доставки",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "transformation": "skip"
            },
            "input_type": "date"
        },
        {
            "name": "delivery_date_actual",
            "type": "DATE",
            "label": "Фактическая дата доставки",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "transformation": "skip"
            },
            "input_type": "date"
        },
        {
            "name": "delivery_time",
            "type": "VARCHAR",
            "label": "Время доставки",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Время доставки",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "delivery_address",
            "type": "VARCHAR",
            "label": "Адрес доставки",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Адрес доставки",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "client_name",
            "type": "VARCHAR",
            "label": "Имя клиента",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "ФИО Покупателя, телефон",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "climb",
            "type": "VARCHAR",
            "label": "Подъем",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Подъем на этаж",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "id_ds",
            "type": "SMALLINT",
            "label": "Статус",
            "primary_key": false,
            "foreign_key": {
                "target_table": "main_delivery_status",
                "target_column": "id_ds",
                "key_field":"id_ds",
                "lookup_field":"ds_name"
            },
            "visible": true,
            "mappings": {
                "import_name" : "Статус",
                "transformation": "db_get_key_from_fields",
                "unique_key" : true
            },
            "input_type": "lookup"
        },
        {
            "name": "distance",
            "type": "FLOAT",
            "label": "Дистанция",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Расстояние",
                "transformation": "direct"
            },
            "input_type": "number"
        },
        {
            "name": "id_dc",
            "type": "SMALLINT",
            "label": "Доставщик",
            "primary_key": false,
            "foreign_key": {
                "target_table": "main_delivery_company",
                "target_column": "id_dc",
                "key_field":"id_dc",
                "lookup_field":"dc_name"
            },
            "visible": true,
            "mappings": {
                "import_name" : "Доставщик",
                "transformation": "db_get_key_from_fields"
            },
            "input_type": "lookup"
        },
        {
            "name": "cost",
            "type": "MONEY",
            "label": "Стоимость",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Стоимость",
                "transformation": "direct"
            },
            "input_type": "number"
        },
        {
            "name": "payment_status",
            "type": "VARCHAR",
            "label": "Статус оплаты",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Примечание",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "compensation",
            "type": "VARCHAR",
            "label": "Компенсация",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Компенсации за доставку от покупателей",
                "transformation": "direct"
            },
            "input_type": "text"
        },
        {
            "name": "note",
            "type": "TEXT",
            "label": "Примечание",
            "primary_key": false,
            "foreign_key": null,
            "visible": true,
            "mappings": {
                "import_name" : "Примечание",
                "transformation": "direct"
            },
            "input_type": "text"
        }
    ]
}